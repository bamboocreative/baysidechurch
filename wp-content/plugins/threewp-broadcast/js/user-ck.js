jQuery(document).ready(function(e){window.broadcast={$arrow:null,$broadcast:null,$broadcast_blogs_htmls:null,$blogs_html:null,$select_all:null,$invert_selection:null,init:function(){this.$broadcast=e("#threewp_broadcast.postbox");if(this.$broadcast.length<1)return;if(e("input",this.$broadcast).length<1)return;this.$blogs_html=e(".blogs.html_section",this.$broadcast);this.$broadcast_blogs_htmls=e("input.checkbox",this.$blogs_html);this.$selection_change_container=e("<div />").addClass("clear").addClass("selection_change_container").appendTo(this.$blogs_html);this.$select_all=e("<span />").addClass("selection_change select_deselect_all").click(function(){var t=!window.broadcast.$broadcast_blogs_htmls.first().prop("checked");window.broadcast.$broadcast_blogs_htmls.each(function(n,r){var i=e(r);i.prop("disabled")!=1&&i.prop("checked",t)})}).text(broadcast_strings.select_deselect_all).appendTo(this.$selection_change_container);this.$selection_change_container.append("&emsp;");this.$invert_selection=e("<span />").click(function(){window.broadcast.$broadcast_blogs_htmls.each(function(t,n){var r=e(n),i=r.prop("checked");r.prop("checked",!i)})}).addClass("selection_change invert_selection").text(broadcast_strings.invert_selection).appendTo(this.$selection_change_container);if(this.$broadcast_blogs_htmls.length>5){this.$arrow=e("<div />").addClass("arrow howto").appendTo(this.$blogs_html).click(function(){var t=e(this);window.broadcast.$blogs_html.hasClass("opened")?window.broadcast.hide_blogs():window.broadcast.show_blogs()});this.hide_blogs()}e(".blog_groups select",this.$broadcast).change(function(){var t=e(this),n=t.val().split(" ");for(var r=0;r<n.length;r++)e("#plainview_form2_inputs_checkboxes_blogs_"+n[r],window.broadcast.$broadcast).prop("checked",!0);t.val("");window.broadcast.$blogs_html.hasClass("closed")&&window.broadcast.$arrow.click().click()})},hide_blogs:function(){window.broadcast.$blogs_html.removeClass("opened").addClass("closed");this.$arrow.html(broadcast_strings.show_all);this.$broadcast_blogs_htmls.each(function(t,n){var r=e(this),i=r.prop("checked");if(r.prop("hidden")===!0)return;i||r.parent().hide()})},init_settings_page:function(){this.$settings_form=e("body.broadcast_page_threewp_broadcast_admin_menu form#broadcast_settings");if(this.$settings_form.length<1)return;this.$settings_form.$broadcast_internal_fields=e("#plainview_form2_inputs_checkbox_broadcast_internal_custom_fields",this.$settings_form);this.$settings_form.$blacklist=e("#plainview_form2_inputs_textarea_custom_field_blacklist",this.$settings_form);this.$settings_form.$whitelist=e("#plainview_form2_inputs_textarea_custom_field_whitelist",this.$settings_form);this.$settings_form.$broadcast_internal_fields.change(function(){var t=e(this).prop("checked");if(t){window.broadcast.$settings_form.$blacklist.prop("readonly",!t).fadeTo(200,1);window.broadcast.$settings_form.$whitelist.prop("readonly",t).fadeTo(200,.5)}else{window.broadcast.$settings_form.$blacklist.prop("readonly",!t).fadeTo(200,.5);window.broadcast.$settings_form.$whitelist.prop("readonly",t).fadeTo(200,1)}}).change()},show_blogs:function(){window.broadcast.$blogs_html.removeClass("closed").addClass("opened");this.$arrow.html(broadcast_strings.hide_all);e.each(this.$broadcast_blogs_htmls,function(t,n){var r=e(this);if(r.prop("hidden")===!0)return;r.parent().show()})}};broadcast.init();broadcast.init_settings_page()});